var app=function(){"use strict";function t(){}function n(t){return t()}function e(){return Object.create(null)}function r(t){t.forEach(n)}function o(t){return"function"==typeof t}function s(t,n){return t!=t?n==n:t!==n||t&&"object"==typeof t||"function"==typeof t}function i(t,n){t.appendChild(n)}function u(t,n,e){t.insertBefore(n,e||null)}function a(t){t.parentNode.removeChild(t)}function l(t,n){for(let e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function c(t){return document.createElement(t)}function f(){return t=" ",document.createTextNode(t);var t}function m(t,n,e,r){return t.addEventListener(n,e,r),()=>t.removeEventListener(n,e,r)}function d(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function h(t,n){(null!=n||t.value)&&(t.value=n)}let p;function b(t){p=t}function g(){const t=function(){if(!p)throw new Error("Function called outside component initialization");return p}();return(n,e)=>{const r=t.$$.callbacks[n];if(r){const o=function(t,n){const e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,n),e}(n,e);r.slice().forEach(n=>{n.call(t,o)})}}}const v=[],$=[],w=[],y=[],x=Promise.resolve();let C=!1;function O(t){w.push(t)}let k=!1;const R=new Set;function E(){if(!k){k=!0;do{for(let t=0;t<v.length;t+=1){const n=v[t];b(n),M(n.$$)}for(v.length=0;$.length;)$.pop()();for(let t=0;t<w.length;t+=1){const n=w[t];R.has(n)||(R.add(n),n())}w.length=0}while(v.length);for(;y.length;)y.pop()();C=!1,k=!1,R.clear()}}function M(t){if(null!==t.fragment){t.update(),r(t.before_update);const n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(O)}}const S=new Set;function A(t,n){t&&t.i&&(S.delete(t),t.i(n))}function N(t,n,e,r){if(t&&t.o){if(S.has(t))return;S.add(t),(void 0).c.push(()=>{S.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function _(t){t&&t.c()}function q(t,e,s){const{fragment:i,on_mount:u,on_destroy:a,after_update:l}=t.$$;i&&i.m(e,s),O(()=>{const e=u.map(n).filter(o);a?a.push(...e):r(e),t.$$.on_mount=[]}),l.forEach(O)}function L(t,n){const e=t.$$;null!==e.fragment&&(r(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function T(t,n){-1===t.$$.dirty[0]&&(v.push(t),C||(C=!0,x.then(E)),t.$$.dirty.fill(0)),t.$$.dirty[n/31|0]|=1<<n%31}function H(n,o,s,i,u,a,l=[-1]){const c=p;b(n);const f=o.props||{},m=n.$$={fragment:null,ctx:null,props:a,update:t,not_equal:u,bound:e(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(c?c.$$.context:[]),callbacks:e(),dirty:l};let d=!1;m.ctx=s?s(n,f,(t,e,...r)=>{const o=r.length?r[0]:e;return m.ctx&&u(m.ctx[t],m.ctx[t]=o)&&(m.bound[t]&&m.bound[t](o),d&&T(n,t)),e}):[],m.update(),d=!0,r(m.before_update),m.fragment=!!i&&i(m.ctx),o.target&&(o.hydrate?m.fragment&&m.fragment.l(function(t){return Array.from(t.childNodes)}(o.target)):m.fragment&&m.fragment.c(),o.intro&&A(n.$$.fragment),q(n,o.target,o.anchor),E()),b(c)}class F{$destroy(){L(this,1),this.$destroy=t}$on(t,n){const e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),()=>{const t=e.indexOf(n);-1!==t&&e.splice(t,1)}}$set(){}}function P(n){let e;return{c(){e=c("nav"),e.innerHTML='<span class="navbar-brand mb-0 h1">Comp Eng Math Grader</span>',d(e,"class","navbar navbar-expand-lg navbar-dark bg-dark")},m(t,n){u(t,e,n)},p:t,i:t,o:t,d(t){t&&a(e)}}}class U extends F{constructor(t){super(),H(this,t,null,P,s,{})}}function j(t,n,e){const r=t.slice();return r[7]=n[e],r[9]=e,r}function z(t,n,e){const r=t.slice();return r[4]=n[e],r[6]=e,r}function B(t){let n,e,r,o;function s(...n){return t[3](t[6],t[9],...n)}return{c(){n=c("td"),e=c("input"),e.value=r=t[7].toString(),d(e,"class","svelte-1wbfap7")},m(t,r){u(t,n,r),i(n,e),o=m(e,"change",s)},p(n,o){t=n,1&o&&r!==(r=t[7].toString())&&e.value!==r&&(e.value=r)},d(t){t&&a(n),o()}}}function Q(t){let n,e,r=t[4],o=[];for(let n=0;n<r.length;n+=1)o[n]=B(j(t,r,n));return{c(){n=c("tr");for(let t=0;t<o.length;t+=1)o[t].c();e=f()},m(t,r){u(t,n,r);for(let t=0;t<o.length;t+=1)o[t].m(n,null);i(n,e)},p(t,s){if(3&s){let i;for(r=t[4],i=0;i<r.length;i+=1){const u=j(t,r,i);o[i]?o[i].p(u,s):(o[i]=B(u),o[i].c(),o[i].m(n,e))}for(;i<o.length;i+=1)o[i].d(1);o.length=r.length}},d(t){t&&a(n),l(o,t)}}}function W(n){let e,r,o=n[0].data,s=[];for(let t=0;t<o.length;t+=1)s[t]=Q(z(n,o,t));return{c(){e=c("table"),r=c("tbody");for(let t=0;t<s.length;t+=1)s[t].c();d(e,"class","table table-bordered")},m(t,n){u(t,e,n),i(e,r);for(let t=0;t<s.length;t+=1)s[t].m(r,null)},p(t,[n]){if(3&n){let e;for(o=t[0].data,e=0;e<o.length;e+=1){const i=z(t,o,e);s[e]?s[e].p(i,n):(s[e]=Q(i),s[e].c(),s[e].m(r,null))}for(;e<s.length;e+=1)s[e].d(1);s.length=o.length}},i:t,o:t,d(t){t&&a(e),l(s,t)}}}function G(t,n,e){let{matrix:r}=n;const o=g();function s(t,n,e){o("update",{row:t,col:n,fractionString:e})}return t.$set=t=>{"matrix"in t&&e(0,r=t.matrix)},[r,s,o,(t,n,e)=>s(t+1,n+1,e.target.value)]}class I extends F{constructor(t){super(),H(this,t,G,W,s,{matrix:0})}}class D{constructor(t,n=1){this.numerator=t,this.denominator=n,this.convertToLeastFraction()}static fromString(t){const n=t.split("/");if(1===n.length)return new D(Number(n[0]));const[e,r]=n;return new D(Number(e),Number(r))}convertToLeastFraction(){for(let t=Math.min(Math.abs(this.numerator),Math.abs(this.denominator));t>=2;t--)if(this.numerator%t==0&&this.denominator%t==0){this.numerator/=t,this.denominator/=t;break}this.denominator<0&&(this.denominator*=-1,this.numerator*=-1),0===this.numerator&&(this.denominator=1)}clone(){return new D(this.numerator,this.denominator)}negative(){return new D(-this.numerator,this.denominator)}inverse(){return new D(this.denominator,this.numerator)}plus(t){const n=this.numerator*t.denominator+t.numerator*this.denominator,e=this.denominator*t.denominator;return new D(n,e)}minus(t){return this.plus(t.negative())}multiply(t){const n=this.numerator*t.numerator,e=this.denominator*t.denominator;return new D(n,e)}divideBy(t){return this.multiply(t.inverse())}toString(){return 1===this.denominator?`${this.numerator}`:`${this.numerator}/${this.denominator}`}}class J{constructor(t,n,e=0){this.numberOfRow=t,this.numberOfCol=n,this.numberOfAugCol=e,this.data=[];for(let r=0;r<t;r++){this.data.push([]);for(let t=0;t<n+e;t++)this.data[r].push(new D(0))}}setEntry(t,n,e){const r=t-1,o=n-1;return this.data[r][o]=e,this}multiplyRow(t,n){const e=t-1,r=this.clone();for(let t=0;t<r.numberOfCol+r.numberOfAugCol;t++)r.data[e][t]=r.data[e][t].multiply(n);return r}swapRow(t,n){const e=t-1,r=n-1,o=this.clone();for(let t=0;t<o.numberOfCol+o.numberOfAugCol;t++){const n=o.data[e][t];o.data[e][t]=o.data[r][t],o.data[r][t]=n}return o}addMultipleOfRow(t,n,e){const r=n-1,o=e-1,s=this.clone();for(let n=0;n<s.numberOfCol+s.numberOfAugCol;n++)s.data[o][n]=s.data[o][n].plus(s.data[r][n].multiply(t));return s}clone(){const t=[];for(const n of this.data){const e=[];for(const t of n)e.push(t.clone());t.push(e)}const n=new J(this.numberOfRow,this.numberOfCol,this.numberOfAugCol);return n.data=t,n}execute(t){const n=this.clone();for(const e of t){let[t,r]=e.split(" ");const o=r.split(",");if(t=t.toUpperCase(),"MUL"===t){const[t,e]=o,r=this.multiplyRow(Number(e),D.fromString(t));for(let t=0;t<this.numberOfCol+this.numberOfAugCol;t++)n.setEntry(e,t+1,r.data[e-1][t])}else if("SWP"===t){const[t,e]=o.map(t=>Number(t)),r=this.swapRow(t,e);for(let o=0;o<this.numberOfCol+this.numberOfAugCol;o++)n.setEntry(t,o+1,r.data[t-1][o]),n.setEntry(e,o+1,r.data[e-1][o])}else if("AMR"===t){const[t,e,r]=o,s=this.addMultipleOfRow(D.fromString(t),Number(e),Number(r));for(let t=0;t<this.numberOfCol+this.numberOfAugCol;t++)n.setEntry(r,t+1,s.data[r-1][t])}}return n}}function K(t){let n,e,o,s,l,p,b,g,v,$,w,y,x,C,O,k,R,E,M,S,T,H,F,P,U,j,z,B,Q,W,G,D,J,K,V,X,Y,Z;const tt=new I({props:{matrix:t[3]}});return tt.$on("update",t[5]),{c(){n=c("div"),e=c("div"),o=c("div"),_(tt.$$.fragment),s=f(),l=c("div"),p=c("div"),b=c("div"),g=c("div"),g.innerHTML='<span class="input-group-text" id="basic-addon1">#Row</span>',v=f(),$=c("input"),w=f(),y=c("div"),x=c("div"),x.innerHTML='<span class="input-group-text" id="basic-addon1">#Column</span>',C=f(),O=c("input"),k=f(),R=c("div"),E=c("button"),E.textContent="Initialize Matrix",M=f(),S=c("div"),T=c("div"),H=c("button"),H.textContent="Save",F=f(),P=c("div"),U=c("button"),U.textContent="Load Saved",j=f(),z=c("div"),B=c("div"),Q=c("h5"),Q.textContent="Query",W=f(),G=c("textarea"),D=f(),J=c("div"),K=c("button"),K.textContent="Execute",V=f(),X=c("div"),X.innerHTML='<h5>Query instruction set</h5> \n                    <ul class="mono-font svelte-15km48l"><li>&quot;MUL k,r&quot;: k*Rr -&gt; Rr</li> \n                        <li>&quot;SWP r,s&quot;: Rr &lt;-&gt; Rs</li> \n                        <li>&quot;AMR k,r,s&quot;: k*Rr + Rs -&gt; Rs</li></ul>\n                    * Each query is separated by newlines.\n                ',d(o,"class","col-12 col-md-8"),d(g,"class","input-group-prepend"),d($,"type","text"),d($,"class","form-control"),d(b,"class","input-group mb-3 col-6"),d(x,"class","input-group-prepend"),d(O,"type","text"),d(O,"class","form-control"),d(y,"class","input-group mb-3 col-6"),d(E,"class","col-12 btn btn-success svelte-15km48l"),d(R,"class","col-12"),d(p,"class","row"),d(H,"class","col-12 btn btn-sm btn-dark svelte-15km48l"),d(T,"class","col-6"),d(U,"class","col-12 btn btn-sm btn-dark svelte-15km48l"),d(P,"class","col-6"),d(S,"class","row"),d(G,"name","query"),d(G,"id","query"),d(G,"rows","5"),d(G,"class","svelte-15km48l"),d(B,"class","col-12"),d(K,"class","col-12 btn btn-primary svelte-15km48l"),d(J,"class","col-12"),d(X,"class","col-12"),d(z,"class","row"),d(l,"class","col-12 col-md-4"),d(e,"class","row"),d(n,"class","container-fluid svelte-15km48l")},m(r,a){u(r,n,a),i(n,e),i(e,o),q(tt,o,null),i(e,s),i(e,l),i(l,p),i(p,b),i(b,g),i(b,v),i(b,$),h($,t[1]),i(p,w),i(p,y),i(y,x),i(y,C),i(y,O),h(O,t[2]),i(p,k),i(p,R),i(R,E),i(l,M),i(l,S),i(S,T),i(T,H),i(S,F),i(S,P),i(P,U),i(l,j),i(l,z),i(z,B),i(B,Q),i(B,W),i(B,G),h(G,t[0]),i(z,D),i(z,J),i(J,K),i(z,V),i(z,X),Y=!0,Z=[m($,"input",t[10]),m(O,"input",t[11]),m(E,"click",t[4]),m(H,"click",t[7]),m(U,"click",t[8]),m(G,"input",t[12]),m(K,"click",t[6])]},p(t,[n]){const e={};8&n&&(e.matrix=t[3]),tt.$set(e),2&n&&$.value!==t[1]&&h($,t[1]),4&n&&O.value!==t[2]&&h(O,t[2]),1&n&&h(G,t[0])},i(t){Y||(A(tt.$$.fragment,t),Y=!0)},o(t){N(tt.$$.fragment,t),Y=!1},d(t){t&&a(n),L(tt),r(Z)}}}function V(t,n,e){let r="",o="4",s="4",i=new J(Number(o),Number(s)),u={queries:r,numberOfRow:o,numberOfColumn:s,matrix:i};return[r,o,s,i,function(t){e(3,i=new J(Number(o),Number(s)))},function(t){const{row:n,col:r,fractionString:o}=t.detail,s=D.fromString(o);e(3,i=i.setEntry(n,r,s))},function(t){e(3,i=i.execute(r.split("\n")))},function(){u={queries:r,numberOfRow:o,numberOfColumn:s,matrix:i}},function(){e(0,({queries:r,numberOfRow:o,numberOfColumn:s,matrix:i}=u),r,e(1,o),e(2,s),e(3,i))},u,function(){o=this.value,e(1,o)},function(){s=this.value,e(2,s)},function(){r=this.value,e(0,r)}]}class X extends F{constructor(t){super(),H(this,t,V,K,s,{})}}function Y(n){let e,r;const o=new U({}),s=new X({});return{c(){_(o.$$.fragment),e=f(),_(s.$$.fragment)},m(t,n){q(o,t,n),u(t,e,n),q(s,t,n),r=!0},p:t,i(t){r||(A(o.$$.fragment,t),A(s.$$.fragment,t),r=!0)},o(t){N(o.$$.fragment,t),N(s.$$.fragment,t),r=!1},d(t){L(o,t),t&&a(e),L(s,t)}}}return new class extends F{constructor(t){super(),H(this,t,null,Y,s,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
